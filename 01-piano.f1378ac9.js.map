{"mappings":"AAmCA,SAASA,EAAUC,GACjB,IAAIC,EACJ,GAAe,YAAXD,EAAEE,KACJD,EAAUD,EAAEC,YACP,IAAe,UAAXD,EAAEE,KAGX,OAFAD,EAAUD,EAAEG,cAAcC,aAAa,YAKzC,MAAMC,EAAQC,SAASC,cAAc,mBAAmBN,OAClDO,EAAMF,SAASC,cAAc,iBAAiBN,OAE/CI,GAAUG,IAEfH,EAAMI,YAAc,EACpBJ,EAAMK,OACNF,EAAIG,UAAUC,IAAI,WAElBC,YAAW,KACTL,EAAIG,UAAUG,OAAO,aACpB,KAGLC,OAAOC,iBAAiB,UAAWjB,GACnC,MAAMkB,EAAOX,SAASY,iBAAiB,QAMvC,SAASC,EAAoBnB,GACJ,cAAnBA,EAAEoB,cAINC,KAAKV,UAAUG,OAAO,WAVxBG,EAAKK,SAAQd,IACXA,EAAIQ,iBAAiB,QAASjB,MAEhCkB,EAAKK,SAAQC,GAAKA,EAAEP,iBAAiB,gBAAiBG","sources":["src/js/01-piano.js"],"sourcesContent":["// import Player from '@vimeo/player';\n// const iframe = document.querySelector('#vimeo-player');\n\n// const player = new Player(iframe);\n// console.log(player);\n\n// const fs = require('fs');\n// const path = require('path');\n// const directoryPath = 'src/sounds';\n// fs.readdir(directoryPath, (err, files) => {\n//   if (err) {\n//     return console.log('Unable to scan dir' + err);\n//   }\n//   files.forEach(function (file) {\n//     // Check if the file name matches the pattern\n//     if (/zvuk-notyi-[a-z]+\\.wav/i.test(file)) {\n//       // Rename the file\n//       const oldPath = path.join(directoryPath, file);\n//       const newPath = path.join(\n//         directoryPath,\n//         file.replace('vo-vtoroy-oktave', 'u-drugiy-oktavi')\n//       );\n//       fs.rename(oldPath, newPath, function (err) {\n//         if (err) {\n//           console.log('Error renaming file: ' + err);\n//         } else {\n//           console.log('Renamed file: ' + oldPath + ' -> ' + newPath);\n//         }\n//       });\n//     }\n//   });\n// });\n\n// ==================================================== //\n\nfunction playSound(e) {\n  let keyCode;\n  if (e.type === 'keydown') {\n    keyCode = e.keyCode;\n  } else if (e.type === 'click') {\n    keyCode = e.currentTarget.getAttribute('data-key');\n  } else {\n    return;\n  }\n\n  const audio = document.querySelector(`audio[data-key=\"${keyCode}\"]`);\n  const key = document.querySelector(`div[data-key=\"${keyCode}\"]`);\n\n  if (!audio || !key) return;\n\n  audio.currentTime = 0;\n  audio.play();\n  key.classList.add('playing');\n\n  setTimeout(() => {\n    key.classList.remove('playing');\n  }, 70);\n}\n\nwindow.addEventListener('keydown', playSound);\nconst keys = document.querySelectorAll('.key');\nkeys.forEach(key => {\n  key.addEventListener('click', playSound);\n});\nkeys.forEach(i => i.addEventListener('transitionend', removeTransitionend));\n\nfunction removeTransitionend(e) {\n  if (e.propertyName !== 'transform') {\n    return;\n  }\n\n  this.classList.remove('playing');\n}\n"],"names":["$f7621cfff1bd946e$var$playSound","e","keyCode","type","currentTarget","getAttribute","audio","document","querySelector","key","currentTime","play","classList","add","setTimeout","remove","window","addEventListener","$f7621cfff1bd946e$var$keys","querySelectorAll","$f7621cfff1bd946e$var$removeTransitionend","propertyName","this","forEach","i"],"version":3,"file":"01-piano.f1378ac9.js.map"}